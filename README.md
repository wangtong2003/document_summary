# 文档智能摘要与检索系统

基于Flask和LangChain的智能文档处理系统,采用向量数据库存储方案,实现高效的文档摘要生成和语义检索功能。

## 核心特性

- 多格式文档处理(PDF/Word/TXT/Markdown/EPUB)
- 基于LLM的智能摘要生成
- 混合语义检索
- 文档主题分析
- 大文件分块处理
- 多用户权限管理

## 技术架构

### 系统架构
```
Web层 (Flask)
├── 文档处理服务
├── 摘要生成服务
├── 语义检索服务
└── 主题分析服务

业务层
├── 文档解析引擎
├── 向量化引擎
├── 检索引擎
└── 摘要生成引擎

数据层
├── MySQL存储
│   ├── 文档数据
│   ├── 向量数据
│   └── 用户数据
└── 文件系统
```

### 核心技术栈
- Web框架: Flask + SQLAlchemy
- 数据库: MySQL 8.0+
- AI模型: 
  - LLM: Ollama (qwen2.5:3b)
  - Embedding: snowflake-arctic-embed2
- 向量处理: LangChain + scikit-learn
- 文档处理: PyMuPDF/python-docx等

## 关键技术实现

### 1. 智能文档处理

#### 文档解析策略
- 多格式文档自适应解析
- 编码自动识别
- 降级处理机制
- 大文件分块处理

#### 文本分块算法
- 基于RecursiveCharacterTextSplitter
- 智能分隔符优先级
- 块大小自适应
- 重叠区域优化

### 2. 向量化与存储

#### 向量化方案
- 使用snowflake-arctic-embed2模型
- 768维向量空间
- 批量向量化处理
- 向量序列化存储

#### 存储优化
- 向量数据压缩
- 分块存储策略
- 索引优化
- 缓存机制

### 3. 混合语义检索

#### 检索策略
- 双向量混合检索
  - 内容向量(权重0.6)
  - 摘要向量(权重0.4)
- 相似度计算优化
- 结果排序优化
- 阈值过滤

#### 性能优化
- 向量索引
- 批量检索
- 结果缓存
- 并行计算

### 4. 智能摘要生成

#### 摘要策略
- 基于重要性的块选择
- 相似度矩阵计算
- 内容重组优化
- 参数化生成

#### 质量优化
- 多维度评估
- 冗余消除
- 连贯性优化
- 关键信息保留

### 5. 主题分析

#### 分析方法
- 基于向量聚类
- TF-IDF分析
- 主题权重计算
- 关键词提取

#### 可视化
- 主题分布图
- 关键词网络
- 重要性热图
- 趋势分析

## 性能优化

### 数据库优化
- 连接池管理
- 分块存储
- 索引优化
- JSON类型应用

### 检索优化
- 向量压缩
- 并行计算
- 缓存策略
- 批量处理

### 系统优化
- 异步处理
- 负载均衡
- 资源管理
- 监控告警

## 安全特性

### 数据安全
- 文件加密
- 向量保护
- 访问控制
- 审计日志

### 用户认证
- JWT认证
- 角色管理
- 权限控制
- 会话管理

## 部署方案

### 环境要求
- Python 3.8+
- MySQL 8.0+
- Ollama服务
- 8GB+ RAM
- 50GB+ 存储

### 部署模式
- 单机部署
- 容器化部署
- 分布式部署
- 微服务架构

## 开发路线

### 近期计划
- 向量检索优化
- 版本控制
- 协作功能
- 格式扩展
- 算法优化

### 长期规划
- 分布式架构
- 实时协作
- 微服务重构
- 跨平台支持
- 生态集成

## 许可证

MIT License 